<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>COP 4331 Contacts Demo</title>
    <link href="https://fonts.googleapis.com/css?family=Ubuntu" rel="stylesheet">
    
    <script type="text/javascript">
		document.addEventListener('DOMContentLoaded', function () {
			readCookie();
			loadContacts();
		}, false);
	</script>
    <style>
    /* General Styles */
    body {
        background-color: #000000; /* Black background */
        color: #FFFFFF;
        font-family: 'Ubuntu', sans-serif;
        margin: 0;
        padding: 0;
    }

    /* Container for the entire content */
    .container {
        width: 80%;
        margin: 0 auto;
        text-align: center;
        padding-top: 50px;
    }

    /* Title Style */
    h1 {
        font-size: 3em;
        color: #FFD700; /* UCF Gold color */
        margin-bottom: 20px;
    }

    /* Search Bar Style */
    .search-bar {
        margin-bottom: 20px;
        display: flex;
        justify-content: center;
        align-items: center;
        gap: 10px;
    }

    #searchText {
        padding: 10px;
        width: 40%;
        font-size: 1em;
        border-radius: 5px;
        border: 2px solid #FFD700;
        background-color: #1A1A1A;
        color: #FFD700;
        text-align: center;
    }

    #searchContactButton, #addContactButton{
        padding: 10px 20px;
        font-size: 1em;
        background-color: #FFD700; /* UCF Gold color */
        border: none;
        border-radius: 5px;
        color: #1A1A1A;
        cursor: pointer;
        transition: background-color 0.3s;
    }
        /* Style the Reset button as an icon */
    #reset {
        padding: 10px;
        background-color: #FFD700; /* UCF Gold color */
        border: none;
        border-radius: 5px;
        color: #1A1A1A;
        cursor: pointer;
        transition: background-color 0.3s;
    }

    #reset i {
        font-size: 1.2em; /* Increase icon size */
    }

    #searchContactButton:hover, #add-contact:hover, #reset:hover {
        background-color: #FFC107; /* Slightly lighter gold on hover */
    }
        /* Style the Add Contact button */
    #add-contact {
        padding: 10px 40px; /* Increase size to make it bigger */
        font-size: 1em;
        background-color: #FFD700; /* UCF Gold color */
        border: none;
        border-radius: 5px;
        color: #1A1A1A;
        cursor: pointer;
        transition: background-color 0.3s;
    }

    /* Table Style */
    table {
        width: 100%;
        border-collapse: collapse;
        margin-top: 20px;
        background-color: #1A1A1A;
        border: 2px solid #FFD700;
    }

    thead {
        background-color: #333333; /* Dark gray for header */
        color: #FFD700; /* Gold text for header */
    }

    th, td {
        padding: 15px;
        text-align: left;
        border: 1px solid #DDDDDD; /* Light border */
    }

    tbody tr:nth-child(even) {
        background-color: #2C2C2C; /* Dark gray for alternating rows */
    }

    tbody tr:nth-child(odd) {
        background-color: #1A1A1A; /* Black for alternating rows */
    }

    /* Input Fields for Adding Contact */
    #firstNameText, #lastNameText, #emailText, #phoneText {
        padding: 10px;
        width: 80%;
        margin-bottom: 10px;
        font-size: 1em;
        border-radius: 5px;
        border: none;
        display: block;
        margin: 10px auto;
        text-align: center;
        background-color: #333333;
        color: #FFD700;
    }

    /* Modal Styles */
    .modal {
        display: none; /* Hidden by default */
        position: fixed; /* Stay in place */
        z-index: 1; /* Sit on top */
        left: 0;
        top: 0;
        width: 100%;
        height: 100%;
        overflow: auto;
        background-color: rgb(0,0,0); /* Fallback color */
        background-color: rgba(0,0,0,0.4); /* Black w/ opacity */
        padding-top: 60px;
    }

    .modal-content {
        background-color: #1A1A1A;
        margin: 5% auto; /* 15% from the top and centered */
        padding: 20px;
        border: 1px solid #888;
        width: 80%; /* Could be more or less, depending on screen size */
        color: #FFFFFF;
    }

    .close {
        color: #aaa;
        float: right;
        font-size: 28px;
        font-weight: bold;
    }

    .close:hover,
    .close:focus {
        color: #FFD700;
        text-decoration: none;
        cursor: pointer;
    }

    /* Logout Button Style */
    #logoutButton {
        position: absolute;
        top: 20px;
        right: 20px;
        font-size: 1em;
        padding: 10px 20px;
        background-color: #FFD700;
        border: none;
        border-radius: 5px;
        color: #1A1A1A;
        cursor: pointer;
        transition: background-color 0.3s;
    }

    #logoutButton:hover {
        background-color: #FFC107;
    }
    </style>

<script type="text/javascript" src="js/code.js"></script> <!-- This script contains your main functionality -->
<script>
    function resetSearch() {
        document.getElementById('searchText').value = '';
        searchContacts(); // This function refreshes the search results
    }

    function openModal() {
        document.getElementById("contactModal").style.display = "block";
    }

    function closeModal() {
        document.getElementById("contactModal").style.display = "none";
    }

    function saveContact() {
        addContact(); // Call the addContact function from code.js to save the contact
    }
</script>
</head>
<body>

    <div class="container">
        <h1 id="title">Charge on, USER!</h1>

        <button type="button" id="logoutButton" onclick="doLogout();"> Log Out </button>

        <div class="search-bar">
            <input type="text" id="searchText" placeholder="Search" onkeyup="searchContacts()">
            <button id="reset" onclick="resetSearch()">
                <i class="fa fa-refresh"></i>
            </button>
            <button id="add-contact" onclick="openModal()">Add Contact</button>
        </div>

 <!--contact table-->
		<div class="tables">
			<div class="tbl-content" id="contactsTable">
				<table id="contacts" cellpadding="0" cellspacing="0" border="0">
					<thread>
						<tr>
							<th>First&nbspName</th>
							<th>Last&nbspName</th>
							<th>Email</th>
							<th>Phone</th>
							<th></th>
						</tr>
					</thread>
					<tbody id="tbody"></tbody>
				</table>
			</div>
		</div>
        </table>
    </div>

    <!-- Modal for adding new contacts -->
    <div id="contactModal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeModal()">&times;</span>
            <h2>Add New Contact</h2>
            <label for="firstName">First Name:</label>
            <input type="text" id="firstNameText"><br>
            <label for="lastName">Last Name:</label>
            <input type="text" id="lastNameText"><br>
            <label for="email">Email:</label>
            <input type="text" id="emailText"><br>
            <label for="phone">Phone:</label>
            <input type="tel" id="phoneText" placeholder="(123) 456-7890" pattern="\(\d{3}\) \d{3}-\d{4}" required>
            <button onclick="saveContact()">Save Contact</button>
        </div>
    </div>
    <!-- Modal for editing existing contacts -->
<div id="editContactModal" class="modal">
    <div class="modal-content">
        <span class="close" onclick="document.getElementById('editContactModal').style.display='none'">&times;</span>
        <h2>Edit Contact</h2>
        <form id="editContactForm">
            <label for="editFirstName">First Name:</label>
            <input type="text" id="editFirstName" name="editFirstName"><br><br>

            <label for="editLastName">Last Name:</label>
            <input type="text" id="editLastName" name="editLastName"><br><br>

            <label for="editEmail">Email:</label>
            <input type="text" id="editEmail" name="editEmail"><br><br>

            <label for="editPhone">Phone:</label>
            <input type="text" id="editPhone" name="editPhone"><br><br>

            <!-- Hidden input to store index -->
            <input type="hidden" id="editContactIndex">
        </form>
        <button onclick="saveContactEdit()">Save Changes</button>
    </div>
</div>

<!-- Delete confirmation modal -->
<div id="deleteContactModal" class="modal">
    <div class="modal-content">
        <span class="close" onclick="document.getElementById('deleteContactModal').style.display='none'">&times;</span>
        <h2>Delete Contact</h2>
        <p>Are you sure you want to delete this contact?</p>
        <button onclick="confirmDelete()">Yes, Delete</button>
        <button onclick="document.getElementById('deleteContactModal').style.display='none'">Cancel</button>
    </div>
</div>


</body>
</html>
